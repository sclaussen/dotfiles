#!/usr/bin/env bash

copy_file() {
    local SOURCE="$1"
    local TARGET="$2"

    # Create parent directory if it doesn't exist
    mkdir -p "$(dirname "$TARGET")"

    # Remove existing file/symlink if it exists
    if [ -e "$TARGET" ] || [ -L "$TARGET" ]; then
        rm -rf $TARGET
    fi

    echo "Copying $SOURCE -> $TARGET"
    cp -r $SOURCE $TARGET
}

SOURCE="$HOME/src/dotfiles"
REPO="."

# Claude configuration
mkdir -p $REPO/.claude
copy_file $SOURCE/claude/settings.json $REPO/.claude/settings.json
copy_file $SOURCE/claude/commands $REPO/.claude/commands
copy_file $SOURCE/claude/scripts $REPO/.claude/scripts
